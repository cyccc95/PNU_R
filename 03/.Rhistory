getwd()
##########################################
# 치매환자현황분석
df = read.csv("03_치매환자현황.csv", sep = ",", fileEncoding = "euc-kr")
df
t거주지역
t거주지역 = table(df$거주지역)
t거주지역
library(qqplot2)
library(ggplot2)
qplot(t거주지역, data=df, fill=t거주지역)+
ggtitle("거주지역별 치매환자")+
theme(plot.title = element_text))
qplot(t거주지역, data=df, fill=t거주지역)+
ggtitle("거주지역별 치매환자")+
theme(plot.title = element_text)
qplot(data = t거주지역)
qplot(data = df)
df = read.csv("03_치매환자현황.csv", sep = ",", fileEncoding = "euc-kr")
# 거주지역별 치매환자 빈도표, 그래프
t거주지역 = table(df$거주지역)
t거주지역
library(ggplot2)
qplot(data = df)
library(ggplot2)
qplot(data = df)
qplot(거주지역, data = df)
qplot(거주지역, data = df, color = cyl)
qplot(거주지역, data = df, color = rainbow())
qplot(거주지역, data = df, color = rainbow(8))
qplot(거주지역, data = df, color = rainbow(8))
qplot(거주지역, data = df, color = drv)
qplot(거주지역, data = df, color = drv, facets = .~drv)
qplot(거주지역, data = df, color = drv, facets = . ~ drv)
qplot(거주지역, data = df, color = drv, facets = .~ drv)
qplot(거주지역, data = df, color = drv, facets = .~drv)
qplot(거주지역, data = df, fill = drv)
qplot(거주지역, data = df, fill = 거주지역)
# 기준일자와 진단일자를 이용하여 진단일수를 계산하고 평균 진단일수 산출
df
# 기준일자와 진단일자를 이용하여 진단일수를 계산하고 평균 진단일수 산출
mode(df$진단일자)
# 기준일자와 진단일자를 이용하여 진단일수를 계산하고 평균 진단일수 산출
df$진단일자 <- as.Date(df$진단일자)
df
mode(df$진단일자)
df$데이터기준일자 <- as.Date(df$데이터기준일자)
mode(df$진단일자)
mode(df$데이터기준일자)
df$진단일수 = difftime(df$진단일자, df$데이터기준일자, units = 'days')
df
df$진단일수 = difftime(df$데이터기준일자, df$진단일자, units = 'days')
df
# 평균 진단 일수
mean(df$진단일수)
# 평균 진단 일수
mean(df$진단일수)
# 평균 진단 일수
colMeans(df$진단일수)
# 평균 진단 일수
mean(df$진단일수)
# 연령대별 빈도수 그래프를 그려서 치매환자가 많은 연령대 분석
library(lubridate)
# 연령대별 빈도수 그래프를 그려서 치매환자가 많은 연령대 분석
install.packages("lubridate")
library(lubridate)
library(lubridate)
year(df$진단일자)
qplot(거주지역, data = df, fill = 거주지역)+
ggtitle("거주지역별 치매환자")
qplot(거주지역, data = df, fill = 거주지역)+
ggtitle("거주지역별 치매환자")+
theme(plot.title = element_text(hjust = 0.5))
qplot(거주지역, data = df, fill = 거주지역)+
ggtitle("거주지역별 치매환자")+
theme(plot.title = element_text(hjust = 0.5, size = 20))
qplot(거주지역, data = df, fill = 거주지역)+
ggtitle("거주지역별 치매환자")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = bold))
qplot(거주지역, data = df, fill = 거주지역)+
ggtitle("거주지역별 치매환자")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
df$연령대 <- ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 90, "90대",
ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 80, "80대",
ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 70, "70대",
ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 60, "60대",
ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 50, "50대", "40대")))))
df$연령대 <- ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 90, 90대,
df$연령대 <- ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 90, "90대",
ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 80, "80대",
ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 70, "70대",
ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 60, "60대",
ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 50, "50대", "40대")))))
class(year(df$데이터기준일자))
df$연령대 <- ifelse((year(df$데이터기준일자) - year(df$출생년도) + 1) >= 90, "90대",
ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 80, "80대",
ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 70, "70대",
ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 60, "60대",
ifelse(year(df$데이터기준일자) - year(df$출생년도) + 1 >= 50, "50대", "40대")))))
class(1)
class(year(df$데이터기준일자) - year(df$출생년도) + 1)
class(year(df$데이터기준일자) - year(df$출생년도) + as.numeric(1))
str(df)
df$연령대 <- ifelse((year(df$데이터기준일자) - df$출생년도 + 1) >= 90, "90대",
ifelse(year(df$데이터기준일자) - df$출생년도 + 1 >= 80, "80대",
ifelse(year(df$데이터기준일자) - df$출생년도 + 1 >= 70, "70대",
ifelse(year(df$데이터기준일자) - df$출생년도 + 1 >= 60, "60대",
ifelse(year(df$데이터기준일자) - df$출생년도 + 1 >= 50, "50대", "40대")))))
df
qplot(연령대, data = df, fill = 연령대)+
ggtitle("연령대별 치매환자")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
class(df$진단일수)
df$진단일수 = as.numeric(df$진단일수)
# 평균 진단 일수
mean(df$진단일수)
#########################################################
# 연령대별 성별 암발생자 현황분석
dfc = read.csv("03_암발생자수.csv", fileEncoding = "euc-kr")
dfc
names(dfc)
str(dfc)
t1 = table(dfc$연령별, dfc$X24개.암종별)
t1
dfc
#########################################################
# 연령대별 성별 암발생자 현황분석
install.packages("dplyr")
library(dplyr)
library(dplyr)
str(dfc)
dfc = filter(dfc, dfc$X24개.암종별 == "모든 암(C00-C96)")
dfc
dfc = filter(dfc, dfc$X24개.암종별 == "모든 암(C00-C96)", 성별 == "계")
dfc
dfc = filter(dfc, dfc$X24개.암종별 == "모든 암(C00-C96)")
dfc
dfc = filter(dfc, dfc$X24개.암종별 == "모든 암(C00-C96)")
dfc
dfc = read.csv("03_암발생자수.csv", fileEncoding = "euc-kr")
dfc
names(dfc)
str(dfc)
dfc = filter(dfc, dfc$X24개.암종별 == "모든 암(C00-C96)")
dfc
dfc = read.csv("03_암발생자수.csv", fileEncoding = "euc-kr")
dfc
names(dfc)
str(dfc)
dfc = filter(dfc, X24개.암종별 == "모든 암(C00-C96)")
dfc
dfc = filter(dfc, X24개.암종별 == "모든 암(C00-C96)", 연령별 != "연령미상")
dfc
dfc = filter(dfc, X24개.암종별 == "모든 암(C00-C96)", 연령별 != "연령미상", 연령별 != "계")
dfc
qplot(연령별, data = dfc, fill = 연령별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
dfc = read.csv("03_암발생자수.csv", fileEncoding = "euc-kr")
dfc
names(dfc)
str(dfc)
dfc = dfc %>% filter(X24개.암종별 == "모든 암(C00-C96)", 연령별 != "연령미상", 연령별 != "계")
dfc
qplot(연령별, data = dfc, fill = 연령별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
dfc = dfc %>% group_by(연령별)
dfc
dfc = dfc %>% filter(X24개.암종별 == "모든 암(C00-C96)", 연령별 != "연령미상", 연령별 != "계")
dfc
dfc = read.csv("03_암발생자수.csv", fileEncoding = "euc-kr")
dfc
names(dfc)
str(dfc)
dfc = dfc %>% filter(X24개.암종별 == "모든 암(C00-C96)", 연령별 != "연령미상", 연령별 != "계")
dfc
help(qplot)
qplot(연령별, data = dfc, fill = 연령별, ylim = c(0, 35000))+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
qplot(연령별, data = dfc, fill = 연령별, ylim = c(0, 125000))+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
dfc = read.csv("03_암발생자수.csv", fileEncoding = "euc-kr")
dfc
names(dfc)
str(dfc)
dfc = dfc %>% filter(X24개.암종별 == "모든 암(C00-C96)", !(연령별 %in% c("연령미상","계")))
help(qplot)
dfc
qplot(연령별, data = dfc, fill = 연령별, ylim = c(0, 125000))+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
unique(dfc$연령별)
dfc$연령대 = ifelse(dfc$연령별 %in% dfc$연령별[1:7])
dfc$연령대 = ifelse(dfc$연령별 %in% dfc$연령별[1:7], "30대이하")
dfc$연령대 = ifelse(dfc$연령별 %in% dfc$연령별[1:7], "30대이하", "30대이상")
dfc
unique(dfc$연령별)
dfc = read.csv("03_암발생자수.csv", fileEncoding = "euc-kr")
dfc
names(dfc)
str(dfc)
dfc = dfc %>% filter(X24개.암종별 == "모든 암(C00-C96)", !(연령별 %in% c("연령미상","계")))
unique(dfc$연령별)
dfc$연령대 = ifelse(dfc$연령별 %in% dfc$연령별[1:8], "30대이하",
ifelse(dfc$연령별 %in% dfc$연령별[9:12], "40~50대",
ifelse(dfc$연령별 %in% dfc$연령별[13:16], "60~70대", "80대이상")))
dfc
qplot(연령대, data = dfc, fill = 연령대, ylim = c(0, 125000))+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
dfc
help(qplot)
qplot(연령대, data = dfc, fill = 연령별, ylim = c(0, 125000))+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
class(dfc)
qplot(연령대, data = dfc, fill = 연령별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
ggplot(mapping =aes(x=연령대, y=연령별, fill=성별), data=dfc) +
geom_bar(stat="identity", position=position_dodge()) +
ggtitle("불쾌지수")+
theme(plot.title = element_text(hjust = 0.5,size=20,face='bold'))
qplot(연령대, data = dfc, fill = 연령별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
qplot(연령대, data = dfc, fill = 성별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
qplot(연령대, data = dfc, fill = 성별)+
geom_bar(stat="identity", position=position_dodge()) +
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
ggplot(mapping =aes(x=연령대, y=계, fill=성별), data=dfc) +
geom_bar(stat="identity", position=position_dodge()) +
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5,size=20,face='bold'))
unique(dfc$연령별)
unique(dfc$연령대)
dfc2 = dfc %>% filter(X24개.암종별 == "모든 암(C00-C96)", !(연령별 %in% c("연령미상")))
ggplot(mapping =aes(x=연령대, y=계, fill=성별), data=dfc2) +
geom_bar(stat="identity", position=position_dodge()) +
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5,size=20,face='bold'))
dfc2
dfc = read.csv("03_암발생자수.csv", fileEncoding = "euc-kr")
dfc
names(dfc)
str(dfc)
dfc = dfc %>% filter(X24개.암종별 == "모든 암(C00-C96)", !(연령별 %in% c("연령미상","계")))
unique(dfc$연령별)
unique(dfc$연령대)
dfc$연령대 = ifelse(dfc$연령별 %in% dfc$연령별[1:8], "30대이하",
ifelse(dfc$연령별 %in% dfc$연령별[9:12], "40~50대",
ifelse(dfc$연령별 %in% dfc$연령별[13:16], "60~70대", "80대이상")))
qplot(연령대, data = dfc, fill = 성별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
dfc = read.csv("03_암발생자수.csv", fileEncoding = "euc-kr")
dfc
names(dfc)
str(dfc)
dfc2 = dfc %>% filter(X24개.암종별 == "모든 암(C00-C96)", !(연령별 %in% c("연령미상","계")))
unique(dfc2$연령별)
unique(dfc2$연령대)
dfc2$연령대 = ifelse(dfc2$연령별 %in% dfc2$연령별[1:8], "30대이하",
ifelse(dfc2$연령별 %in% dfc2$연령별[9:12], "40~50대",
ifelse(dfc2$연령별 %in% dfc2$연령별[13:16], "60~70대", "80대이상")))
qplot(연령대, data = dfc2, fill = 성별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
ggplot(mapping =aes(x=연령대, y=계, fill=성별), data=dfc) +
geom_bar(stat="identity", position=position_dodge()) +
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5,size=20,face='bold'))
names(dfc)
qplot(연령대, data = dfc2, fill = 성별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
dfc = read.csv("03_암발생자수.csv", fileEncoding = "euc-kr")
dfc
names(dfc)
str(dfc)
dfc = dfc %>% filter(X24개.암종별 == "모든 암(C00-C96)", !(연령별 %in% c("연령미상","계")))
unique(dfc$연령별)
unique(dfc$연령대)
dfc$연령대 = ifelse(dfc$연령별 %in% dfc$연령별[1:8], "30대이하",
ifelse(dfc$연령별 %in% dfc$연령별[9:12], "40~50대",
ifelse(dfc$연령별 %in% dfc$연령별[13:16], "60~70대", "80대이상")))
qplot(연령대, data = dfc, fill = 성별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
dfc
dfc2 <- dfc %>% group_by(연령대, sum(X2019, X2019.1))
dfc2 <- dfc %>% group_by(연령대, 계 = sum(X2019, X2019.1))
%>% summarise(계 = sum(X2019.1))
%>% summarise(계 = sum(X2019, X2019.1))
names(dfc)
dfc$X2019 <- as.numeric(dfc$X2019)
dfc$X2019.1 <- as.numeric(dfc$X2019.1)
%>% summarise(계 = sum(X2019.1))
dfc2 <- dfc %>% group_by(연령대, 성별)%>% summarise(계 = sum(X2019))
dfc2
qplot(연령대, data = dfc2, fill = 성별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
dfc2
qplot(연령대, data = dfc2, fill = 성별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
qplot(연령대, data = dfc2, fill = 연령별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
qplot(연령대, data = dfc2, fill = 성별)+
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"))
ggplot(mapping =aes(x=연령대, y=연령별, fill=성별), data=dfc2) +
geom_bar(stat="identity", position=position_dodge()) +
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5,size=20,face='bold'))
ggplot(mapping =aes(x=연령대, y=성별, fill=성별), data=dfc2) +
geom_bar(stat="identity", position=position_dodge()) +
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5,size=20,face='bold'))
ggplot(mapping =aes(x=연령대, y=성별, fill=연령대), data=dfc2) +
geom_bar(stat="identity", position=position_dodge()) +
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5,size=20,face='bold'))
ggplot(mapping =aes(x=연령대, y=성별, fill=성별), data=dfc2) +
geom_bar(stat="identity", position=position_dodge()) +
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5,size=20,face='bold'))
names(dfc)
ggplot(mapping =aes(x=연령대, y=연령별, fill=성별), data=dfc2) +
geom_bar(stat="identity", position=position_dodge()) +
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5,size=20,face='bold'))
ggplot(mapping =aes(x=연령대, fill=성별), data=dfc2) +
geom_bar(stat="identity", position=position_dodge()) +
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5,size=20,face='bold'))
dfc2
ggplot(mapping =aes(x=연령대, y=계, fill=성별), data=dfc2) +
geom_bar(stat="identity", position=position_dodge()) +
ggtitle("연령대별 암발생자 성별 분석")+
theme(plot.title = element_text(hjust = 0.5,size=20,face='bold'))
